<%- include("partials/header.ejs") %>
<div class="container-grid">
    <main class="pokemon"><h1>Here's the info about the PÃ³kemon:</h1>
        <p class="name">Name: <%= content.name %></p>
        <div id="loading" style="display: flex;">Loading...</div>
        <img id="pokemon-image" src="<%= spriteUrl %>" alt="Image of <%= content.name %>" height="150px" style="display: none;">
        <p>Ability:</p>
        <ul>
        <% for (let index = 0; index < content.abilities.length; index++) { %>
            <li><%= content.abilities[index].ability.name %></li>
        <%} %>
        </ul> 
        <form method="GET">
            <button type="submit" formaction="/pokemon">View another</button>
        </form>
    </main>
<script>
    document.addEventListener("DOMContentLoaded", function() {
    const loading = document.getElementById("loading");
    const pokemonImage = document.getElementById("pokemon-image");

    pokemonImage.onload = function() {
        loading.style.display = "none";
        pokemonImage.style.display = "inline";
    };
});
</script>
<%- include("partials/footer.ejs") %>